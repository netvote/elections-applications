<div class="nv-page-wrap">

    <div class="nv-login" [ngClass]="{'showing-register': !showLogin, 'showing-login': showLogin}">

        <div class="nv-login__side  nv-login__side--narrow">

            <div class="text-center">

                <div class="nv-login__logo">
                        
                    <img src="/assets/netvote-logo-vert-white.svg">
        
                </div>

                <!-- <img src="/assets/temp/testmock.png"> -->

                <div *ngIf="showLogin" class="p-4  d-none  d-md-block  nv-login__side__content">

                    <p>Don't have an account?</p>
                    <p>Register to create elections and ballots that are tamper-proof and secured on the blockchain.</p>
                    <button type="button" (click)="toggleLogin()" class="btn btn-outline-light">Register</button>
                    
                </div>

                <div *ngIf="!showLogin" class="p-4  d-none  d-md-block  nv-login__side__content">
                        
                    <p>Already registered?</p>
                    <p>Login to manage and create your elections and ballots.</p>
                    <button type="button" (click)="toggleLogin()" class="btn btn-outline-light">Login</button>
                    
                </div>

            </div>
            
        </div>

        <div class="nv-login__side  nv-login__side--wide">
                
            <div class="nv-login__forms">

                <!-- Login -->
                <div *ngIf="showLogin" class="nv-login__login">

                    <header class="nv-login__header">
                        <h2>Welcome Back</h2>
                        <p>Please sign in</p>
                    </header>
    
                    <form class="nv-login__form" name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>

                        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                            <label for="username">Email</label>
                            <input type="text" class="form-control  rounded-0" name="username" [(ngModel)]="model.username" #username="ngModel" required />
                            <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
                        </div>
                        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                            <label for="password">Password</label>
                            <input type="password" class="form-control  rounded-0" name="password" [(ngModel)]="model.password" #password="ngModel" required />
                            <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
                        </div>
                        <div class="form-group">
                            <button [disabled]="loading" class="btn btn-primary text-light">Login</button>
                            <spinner name="signinSpinner" [(show)]="loading">
                                <div class="nv-spinner  is-animating">
                                    <div class="nv-spinner__anim"></div>
                                </div>
                            </spinner>
                            <button type="button" (click)="toggleLogin()" class="btn btn-outline-light d-md-none">Register</button>
                        </div>
    
                    </form>

                </div>
                
                <!-- Register -->
                <div *ngIf="!showLogin" class="nv-login__register">

                    <header class="nv-login__header">
                        <h2>Welcome to Netvote</h2>
                        <p>Create an account</p>
                    </header>

                    <form class="nv-login__form" name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>
                        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                            <label for="firstName">First Name</label>
                            <input type="text" class="form-control rounded-0" name="firstName" [(ngModel)]="model.firstName" #firstName="ngModel" required />
                            <div *ngIf="f.submitted && !firstName.valid" class="help-block">First Name is required</div>
                        </div>
                        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                            <label for="lastName">Last Name</label>
                            <input type="text" class="form-control rounded-0" name="lastName" [(ngModel)]="model.lastName" #lastName="ngModel" required />
                            <div *ngIf="f.submitted && !lastName.valid" class="help-block">Last Name is required</div>
                        </div>
                        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                            <label for="username">Email</label>
                            <input type="text" class="form-control rounded-0" name="username" [(ngModel)]="model.username" #username="ngModel" required />
                            <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
                        </div>
                        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                            <label for="password">Password</label>
                            <input type="password" class="form-control rounded-0" name="password" [(ngModel)]="model.password" #password="ngModel" required />
                            <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
                        </div>
                        <div class="form-group">
                            <button [disabled]="loading" class="btn btn-secondary">Register</button>
                            <spinner name="registerSpinner" [(show)]="loading">
                                <div class="nv-spinner  is-animating">
                                    <div class="nv-spinner__anim"></div>
                                </div>
                            </spinner>
                            <button (click)="toggleLogin()" [disabled]="loading" class="btn btn-outline-light d-md-none">Signin</button>
                        </div>
                    </form>

                </div>
        
            </div>
            
        </div>
        
    </div>
    
</div>